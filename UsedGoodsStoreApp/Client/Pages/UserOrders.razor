@using UsedGoodsStoreApp.Shared
@attribute [Microsoft.AspNetCore.Components.RouteAttribute(@Routes.UserOrder)]
@using System.Net.Http.Json
@using UsedGoodsStoreApp.Shared.Models;
@inject IDialogService DialogService

<MudTable Items="@OrdersList.OrderByDescending(x => x.OrderDate)" Hover="true" Breakpoint="Breakpoint.Sm" Loading="@_loading" LoadingProgressColor="Color.Info">
    <HeaderContent>
        <MudTh>Data</MudTh>
        <MudTh>Ilosc produktów</MudTh>
        <MudTh>Misto</MudTh>
        <MudTh>Ulica</MudTh>
        <MudTh>Numer domu</MudTh>
        <MudTh>Status zamówienia</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Data">@context.OrderDate</MudTd>
        <MudTd DataLabel="Ilosc produktów">
            @context.OrderItems.Count()
            <MudButton OnClick="() => OpenPreview(context)">Pogląd</MudButton>
        </MudTd>
        <MudTd DataLabel="Miasto">@context.City</MudTd>
        <MudTd DataLabel="Ulica">@context.Street</MudTd>
        <MudTd DataLabel="Numer domu">@context.HouseNumber</MudTd>
        <MudTd DataLabel="Status zamówienia"> @context.OrderStatus.Name</MudTd>
    </RowTemplate>
</MudTable>
